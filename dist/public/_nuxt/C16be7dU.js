import{M as N,I as P,G as T,n as L,m as C,ar as te,f as w,g as oe,x as g,o as p,y as $,J as se,c as S,R as re,Q as ne,N as le,z as ie,a3 as ue,w as b,b as v,k as o,P as R,p as I,S as de,q as Q,L as ce,O as E,as as me,V as X,X as W,a0 as fe,at as j,a8 as pe,a5 as ve,a9 as be,U as ye,aa as ge,ae as he,au as we,ah as K,a as F,aj as _,ak as U,d as V,t as O,av as xe,r as _e,e as Z,a6 as ke,aw as Ve,ax as D}from"./CwPaj6Lc.js";import{_ as Ce}from"./DYBivMV7.js";import{c as G,a as $e,b as Se,L as qe,_ as Ae}from"./DVxtuaKk.js";import{_ as Ee}from"./CWgUvfL5.js";import{u as Fe}from"./DS6XWmeJ.js";import{u as Ie}from"./CJbSa5pZ.js";import{a as H}from"./BPtl1fjW.js";import{u as Be}from"./BCuoMx0o.js";import"./3dVcC3Pm.js";import"./Dz3uusrQ.js";function Y(t,a){return N(t)?!1:Array.isArray(t)?t.some(e=>P(e,a)):P(t,a)}const ze={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Re(t,a){return a!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Me(t,a,e){const s=Re(t.key,e);if(!(a==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(a==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ze[s]}function Ne(t,a=!1){const e=T();for(const s of t)if(s===e||(s.focus({preventScroll:a}),T()!==e))return}function Pe(t,a){return t.map((e,s)=>t[(a+s)%t.length])}const[Le,ca]=L("RovingFocusGroup"),J=C({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const a=t,{primitiveElement:e,currentElement:s}=te(),n=w(()=>a.checked??a.value);return oe(n,(m,i)=>{if(!s.value)return;const l=s.value,d=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(d,"value").set;if(c&&m!==i){const f=new Event("input",{bubbles:!0}),y=new Event("change",{bubbles:!0});c.call(l,m),l.dispatchEvent(f),l.dispatchEvent(y)}}),(m,i)=>(p(),g(se,$({ref_key:"primitiveElement",ref:e},{...a,...m.$attrs},{as:"input"}),null,16))}}),Te=C({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const a=t,e=w(()=>typeof a.value=="object"&&Array.isArray(a.value)&&a.value.length===0&&a.required),s=w(()=>typeof a.value=="string"||typeof a.value=="number"||typeof a.value=="boolean"?[{name:a.name,value:a.value}]:typeof a.value=="object"&&Array.isArray(a.value)?a.value.flatMap((n,m)=>typeof n=="object"?Object.entries(n).map(([i,l])=>({name:`[${a.name}][${m}][${i}]`,value:l})):{name:`[${a.name}][${m}]`,value:n}):a.value!==null&&typeof a.value=="object"&&!Array.isArray(a.value)?Object.entries(a.value).map(([n,m])=>({name:`[${a.name}][${n}]`,value:m})):[]);return(n,m)=>e.value?(p(),g(J,$({key:n.name},{...a,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(p(!0),S(ne,{key:1},re(s.value,i=>(p(),g(J,$({key:i.name,ref_for:!0},{...a,...n.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))}}),[je,ma]=L("CheckboxGroupRoot");function z(t){return t==="indeterminate"}function ee(t){return z(t)?"indeterminate":t?"checked":"unchecked"}const Ke=C({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const a=t,e=Le(),s=Ie(),n=w(()=>a.tabStopId||s),m=w(()=>e.currentTabStopId.value===n.value),{getItems:i,CollectionItem:l}=le();ie(()=>{a.focusable&&e.onFocusableItemAdd()}),ue(()=>{a.focusable&&e.onFocusableItemRemove()});function d(r){if(r.key==="Tab"&&r.shiftKey){e.onItemShiftTab();return}if(r.target!==r.currentTarget)return;const c=Me(r,e.orientation.value,e.dir.value);if(c!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||!a.allowShiftKey&&r.shiftKey)return;r.preventDefault();let f=[...i().map(y=>y.ref).filter(y=>y.dataset.disabled!=="")];if(c==="last")f.reverse();else if(c==="prev"||c==="next"){c==="prev"&&f.reverse();const y=f.indexOf(r.currentTarget);f=e.loop.value?Pe(f,y+1):f.slice(y+1)}de(()=>Ne(f))}}return(r,c)=>(p(),g(o(l),null,{default:b(()=>[v(o(R),{tabindex:m.value?0:-1,"data-orientation":o(e).orientation.value,"data-active":r.active?"":void 0,"data-disabled":r.focusable?void 0:"",as:r.as,"as-child":r.asChild,onMousedown:c[0]||(c[0]=f=>{r.focusable?o(e).onItemFocus(n.value):f.preventDefault()}),onFocus:c[1]||(c[1]=f=>o(e).onItemFocus(n.value)),onKeydown:d},{default:b(()=>[I(r.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[Ue,Oe]=L("CheckboxRoot"),De=C({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:a}){const e=t,s=a,{forwardRef:n,currentElement:m}=Q(),i=je(null),l=ce(e,"modelValue",s,{defaultValue:e.defaultValue,passive:e.modelValue===void 0}),d=w(()=>i?.disabled.value||e.disabled),r=w(()=>N(i?.modelValue.value)?l.value==="indeterminate"?"indeterminate":l.value:Y(i.modelValue.value,e.value));function c(){if(N(i?.modelValue.value))l.value=z(l.value)?!0:!l.value;else{const u=[...i.modelValue.value||[]];if(Y(u,e.value)){const k=u.findIndex(q=>P(q,e.value));u.splice(k,1)}else u.push(e.value);i.modelValue.value=u}}const f=Fe(m),y=w(()=>e.id&&m.value?document.querySelector(`[for="${e.id}"]`)?.innerText:void 0);return Oe({disabled:d,state:r}),(u,k)=>(p(),g(W(o(i)?.rovingFocus.value?o(Ke):o(R)),$(u.$attrs,{id:u.id,ref:o(n),role:"checkbox","as-child":u.asChild,as:u.as,type:u.as==="button"?"button":void 0,"aria-checked":o(z)(r.value)?"mixed":r.value,"aria-required":u.required,"aria-label":u.$attrs["aria-label"]||y.value,"data-state":o(ee)(r.value),"data-disabled":d.value?"":void 0,disabled:d.value,focusable:o(i)?.rovingFocus.value?!d.value:void 0,onKeydown:me(X(()=>{},["prevent"]),["enter"]),onClick:c}),{default:b(()=>[I(u.$slots,"default",{modelValue:o(l),state:r.value}),o(f)&&u.name&&!o(i)?(p(),g(o(Te),{key:0,type:"checkbox",checked:!!r.value,name:u.name,value:u.value,disabled:d.value,required:u.required},null,8,["checked","name","value","disabled","required"])):E("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),Ge=C({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(t){const{forwardRef:a}=Q(),e=Ue();return(s,n)=>(p(),g(o(fe),{present:s.forceMount||o(z)(o(e).state.value)||o(e).state.value===!0},{default:b(()=>[v(o(R),$({ref:o(a),"data-state":o(ee)(o(e).state.value),"data-disabled":o(e).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":s.asChild,as:s.as},s.$attrs),{default:b(()=>[I(s.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),He={slots:{root:"relative flex items-start",container:"flex items-center",base:"rounded-sm ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full text-inverted",icon:"shrink-0 size-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{root:""},card:{root:"border border-muted rounded-lg"}},indicator:{start:{root:"flex-row",wrapper:"ms-2"},end:{root:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{base:"cursor-not-allowed opacity-75",label:"cursor-not-allowed opacity-75",description:"cursor-not-allowed opacity-75"}},checked:{true:""}},compoundVariants:[{size:"xs",variant:"card",class:{root:"p-2.5"}},{size:"sm",variant:"card",class:{root:"p-3"}},{size:"md",variant:"card",class:{root:"p-3.5"}},{size:"lg",variant:"card",class:{root:"p-4"}},{size:"xl",variant:"card",class:{root:"p-4.5"}},{color:"primary",variant:"card",class:{root:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{root:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{root:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{root:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{root:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{root:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{root:"has-data-[state=checked]:border-inverted"}},{variant:"card",disabled:!0,class:{root:"cursor-not-allowed opacity-75"}}],defaultVariants:{size:"md",color:"primary",variant:"list",indicator:"start"}},Ye=Object.assign({inheritAttrs:!1},{__name:"NuxtCheckbox",props:j({as:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},indicator:{type:null,required:!1},icon:{type:String,required:!1},indeterminateIcon:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},value:{type:null,required:!1},id:{type:String,required:!1},defaultValue:{type:[Boolean,String],required:!1}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:j(["change"],["update:modelValue"]),setup(t,{emit:a}){const e=t,s=pe(),n=a,m=ve(t,"modelValue",{type:[Boolean,String],default:void 0}),i=be(),l=ye(ge(e,"required","value","defaultValue")),{id:d,emitFormChange:r,emitFormInput:c,size:f,color:y,name:u,disabled:k,ariaAttrs:q}=he(e),x=d.value??we(),h=w(()=>K({extend:K(He),...i.ui?.checkbox||{}})({size:f.value,color:y.value,variant:e.variant,indicator:e.indicator,required:e.required,disabled:k.value}));function ae(A){const B=new Event("change",{target:{value:A}});n("change",B),r(),c()}return(A,B)=>(p(),g(o(R),{as:!t.variant||t.variant==="list"?t.as:o(G),class:_(h.value.root({class:[e.ui?.root,e.class]}))},{default:b(()=>[F("div",{class:_(h.value.container({class:e.ui?.container}))},[v(o(De),$({id:o(x)},{...o(l),...A.$attrs,...o(q)},{modelValue:m.value,"onUpdate:modelValue":[B[0]||(B[0]=M=>m.value=M),ae],name:o(u),disabled:o(k),class:h.value.base({class:e.ui?.base})}),{default:b(({modelValue:M})=>[v(o(Ge),{class:_(h.value.indicator({class:e.ui?.indicator}))},{default:b(()=>[M==="indeterminate"?(p(),g(U,{key:0,name:t.indeterminateIcon||o(i).ui.icons.minus,class:_(h.value.icon({class:e.ui?.icon}))},null,8,["name","class"])):(p(),g(U,{key:1,name:t.icon||o(i).ui.icons.check,class:_(h.value.icon({class:e.ui?.icon}))},null,8,["name","class"]))]),_:2},1032,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),t.label||s.label||t.description||s.description?(p(),S("div",{key:0,class:_(h.value.wrapper({class:e.ui?.wrapper}))},[t.label||s.label?(p(),g(W(!t.variant||t.variant==="list"?o(G):"p"),{key:0,for:o(x),class:_(h.value.label({class:e.ui?.label}))},{default:b(()=>[I(A.$slots,"label",{label:t.label},()=>[V(O(t.label),1)])]),_:3},8,["for","class"])):E("",!0),t.description||s.description?(p(),S("p",{key:1,class:_(h.value.description({class:e.ui?.description}))},[I(A.$slots,"description",{description:t.description},()=>[V(O(t.description),1)])],2)):E("",!0)],2)):E("",!0)]),_:3},8,["as","class"]))}}),Je={key:0,class:"mb-3"},Qe={class:"flex items-center gap-2 justify-between"},Xe=C({__name:"login-form",setup(t){const a=Be(),e=xe({email:"",password:"",rememberMe:!0});function s(){e.email="",e.password="",e.rememberMe=!0}const n=_e(null);async function m(i){n.value=null;const l=btoa(i.data.email);await H.signIn.email(i.data,{onError(d){n.value=new Error(d.error.message||d.error.statusText)},async onSuccess(){s();const d=await H.getSession();if(!d.data)throw Ve({status:500,statusMessage:"Not allowed. Please log in",fatal:!0});if(a.setSession(d.data.session),a.setUser(d.data.user),!d.data?.user.emailVerified){await D({name:"email-verification",query:{email:l}});return}await D("/")}})}return(i,l)=>{const d=Ce,r=Se,c=$e,f=Ee,y=Ye,u=Z,k=ke,q=Ae;return p(),S("div",null,[o(n)?(p(),S("div",Je,[v(d,{message:o(n).message},null,8,["message"])])):E("",!0),v(q,{schema:o(qe),state:o(e),class:"space-y-4",onSubmit:X(m,["prevent"])},{default:b(()=>[v(c,{label:"Email",name:"email"},{default:b(()=>[v(r,{modelValue:o(e).email,"onUpdate:modelValue":l[0]||(l[0]=x=>o(e).email=x),size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),v(c,{label:"Password",name:"password"},{default:b(()=>[v(f,{modelValue:o(e).password,"onUpdate:modelValue":l[1]||(l[1]=x=>o(e).password=x),size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),F("div",Qe,[v(c,{name:"rememberMe"},{default:b(()=>[v(y,{modelValue:o(e).rememberMe,"onUpdate:modelValue":l[2]||(l[2]=x=>o(e).rememberMe=x),label:"Remember me"},null,8,["modelValue"])]),_:1}),v(u,{to:"/forgot-password",class:"hover:underline text-sm font-semibold text-primary"},{default:b(()=>l[3]||(l[3]=[V(" Forgot password ",-1)])),_:1,__:[3]})]),v(k,{type:"submit",class:"mt-2 w-full flex items-center justify-center",size:"lg",icon:"i-lucide-log-in","loading-auto":""},{default:b(()=>l[4]||(l[4]=[V(" Submit ",-1)])),_:1,__:[4]})]),_:1},8,["schema","state"])])}}}),We=Object.assign(Xe,{__name:"LoginForm"}),Ze={class:"text-sm text-muted"},ea={class:"my-5"},fa=C({__name:"login",setup(t){return(a,e)=>{const s=Z,n=We;return p(),S("div",null,[e[3]||(e[3]=F("h1",{class:"text-lg font-semibold"},"Sign In",-1)),F("div",Ze,[e[1]||(e[1]=V(" Don't have an account? ",-1)),v(s,{class:"text-primary font-semibold hover:underline",to:{name:"register"}},{default:b(()=>e[0]||(e[0]=[V(" Register ",-1)])),_:1,__:[0]}),e[2]||(e[2]=V(" instead. ",-1))]),F("div",ea,[v(n)])])}}});export{fa as default};
