import{m as C,n as ce,L as de,r as k,K as fe,p as y,k as n,q as D,x as g,o as v,w as m,y as B,P as M,G as P,aC as pe,av as ve,D as z,H as oe,aD as _,S as se,aE as q,aF as me,aG as ye,aH as N,aI as G,aJ as ge,z as ae,b as x,W as he,g as ne,a3 as be,A as Ee,aK as Y,a0 as re,aL as we,f as K,aM as Oe,l as Ce,ad as Be,aN as J,aO as De,O,Y as V,$ as j,a4 as $e,a8 as ke,aP as Ae,a9 as Fe,Z as _e,aa as Pe,ab as Se,ac as X,ah as Q,aj as F,aQ as Me,J as Ie,d as I,t as R,c as U,a as Re,a6 as Te}from"./CwPaj6Lc.js";import{u as H}from"./CJbSa5pZ.js";const[$,Le]=ce("DialogRoot"),xe=C({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:o}){const e=t,s=de(e,"open",o,{defaultValue:e.defaultOpen,passive:e.open===void 0}),p=k(),f=k(),{modal:d}=fe(e);return Le({open:s,modal:d,openModal:()=>{s.value=!0},onOpenChange:u=>{s.value=u},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:p,contentElement:f}),(u,c)=>y(u.$slots,"default",{open:n(s),close:()=>s.value=!1})}}),Ke=C({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const o=t;D();const e=$();return(a,s)=>(v(),g(n(M),B(o,{type:a.as==="button"?"button":void 0,onClick:s[0]||(s[0]=p=>n(e).onOpenChange(!1))}),{default:m(()=>[y(a.$slots,"default")]),_:3},16,["type"]))}});function qe(t){return t?"open":"closed"}function ut(t){const o=P();for(const e of t)if(e===o||(e.focus(),P()!==o))return}const Ne=pe(()=>k([]));function Ue(){const t=Ne();return{add(o){const e=t.value[0];o!==e&&e?.pause(),t.value=Z(t.value,o),t.value.unshift(o)},remove(o){t.value=Z(t.value,o),t.value[0]?.resume()}}}function Z(t,o){const e=[...t],a=e.indexOf(o);return a!==-1&&e.splice(a,1),e}function We(t){return t.filter(o=>o.tagName!=="A")}const Ve=C({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:o}){const e=t,a=o,{currentRef:s,currentElement:p}=D(),f=k(null),d=Ue(),u=ve({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});z(l=>{if(!oe)return;const r=p.value;if(!e.trapped)return;function i(w){if(u.paused||!r)return;const A=w.target;r.contains(A)?f.value=A:_(f.value,{select:!0})}function b(w){if(u.paused||!r)return;const A=w.relatedTarget;A!==null&&(r.contains(A)||_(f.value,{select:!0}))}function E(w){r.contains(f.value)||_(r)}document.addEventListener("focusin",i),document.addEventListener("focusout",b);const h=new MutationObserver(E);r&&h.observe(r,{childList:!0,subtree:!0}),l(()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",b),h.disconnect()})}),z(async l=>{const r=p.value;if(await se(),!r)return;d.add(u);const i=P();if(!r.contains(i)){const E=new CustomEvent(q,G);r.addEventListener(q,h=>a("mountAutoFocus",h)),r.dispatchEvent(E),E.defaultPrevented||(me(We(ye(r)),{select:!0}),P()===i&&_(r))}l(()=>{r.removeEventListener(q,w=>a("mountAutoFocus",w));const E=new CustomEvent(N,G),h=w=>{a("unmountAutoFocus",w)};r.addEventListener(N,h),r.dispatchEvent(E),setTimeout(()=>{E.defaultPrevented||_(i??document.body,{select:!0}),r.removeEventListener(N,h),d.remove(u)},0)})});function c(l){if(!e.loop&&!e.trapped||u.paused)return;const r=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,i=P();if(r&&i){const b=l.currentTarget,[E,h]=ge(b);E&&h?!l.shiftKey&&i===h?(l.preventDefault(),e.loop&&_(E,{select:!0})):l.shiftKey&&i===E&&(l.preventDefault(),e.loop&&_(h,{select:!0})):i===b&&l.preventDefault()}}return(l,r)=>(v(),g(n(M),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":l.asChild,as:l.as,onKeydown:c},{default:m(()=>[y(l.$slots,"default")]),_:3},8,["as-child","as"]))}}),le=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,a=o,s=$(),{forwardRef:p,currentElement:f}=D();return s.titleId||=H(void 0,"reka-dialog-title"),s.descriptionId||=H(void 0,"reka-dialog-description"),ae(()=>{s.contentElement=f,P()!==document.body&&(s.triggerElement.value=P())}),(d,u)=>(v(),g(n(Ve),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:u[5]||(u[5]=c=>a("openAutoFocus",c)),onUnmountAutoFocus:u[6]||(u[6]=c=>a("closeAutoFocus",c))},{default:m(()=>[x(n(he),B({id:n(s).contentId,ref:n(p),as:d.as,"as-child":d.asChild,"disable-outside-pointer-events":d.disableOutsidePointerEvents,role:"dialog","aria-describedby":n(s).descriptionId,"aria-labelledby":n(s).titleId,"data-state":n(qe)(n(s).open.value)},d.$attrs,{onDismiss:u[0]||(u[0]=c=>n(s).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=c=>a("escapeKeyDown",c)),onFocusOutside:u[2]||(u[2]=c=>a("focusOutside",c)),onInteractOutside:u[3]||(u[3]=c=>a("interactOutside",c)),onPointerDownOutside:u[4]||(u[4]=c=>a("pointerDownOutside",c))}),{default:m(()=>[y(d.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}});var je=function(t){if(typeof document>"u")return null;var o=Array.isArray(t)?t[0]:t;return o.ownerDocument.body},S=new WeakMap,T=new WeakMap,L={},W=0,ie=function(t){return t&&(t.host||ie(t.parentNode))},He=function(t,o){return o.map(function(e){if(t.contains(e))return e;var a=ie(e);return a&&t.contains(a)?a:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},Ye=function(t,o,e,a){var s=He(o,Array.isArray(t)?t:[t]);L[e]||(L[e]=new WeakMap);var p=L[e],f=[],d=new Set,u=new Set(s),c=function(r){!r||d.has(r)||(d.add(r),c(r.parentNode))};s.forEach(c);var l=function(r){!r||u.has(r)||Array.prototype.forEach.call(r.children,function(i){if(d.has(i))l(i);else try{var b=i.getAttribute(a),E=b!==null&&b!=="false",h=(S.get(i)||0)+1,w=(p.get(i)||0)+1;S.set(i,h),p.set(i,w),f.push(i),h===1&&E&&T.set(i,!0),w===1&&i.setAttribute(e,"true"),E||i.setAttribute(a,"true")}catch(A){console.error("aria-hidden: cannot operate on ",i,A)}})};return l(o),d.clear(),W++,function(){f.forEach(function(r){var i=S.get(r)-1,b=p.get(r)-1;S.set(r,i),p.set(r,b),i||(T.has(r)||r.removeAttribute(a),T.delete(r)),b||r.removeAttribute(e)}),W--,W||(S=new WeakMap,S=new WeakMap,T=new WeakMap,L={})}},ze=function(t,o,e){e===void 0&&(e="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),s=je(t);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),Ye(a,s,e,"aria-hidden")):function(){return null}};function Ge(t){let o;ne(()=>Ee(t),e=>{e?o=ze(e):o&&o()}),be(()=>{o&&o()})}const Je=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,a=o,s=$(),p=Y(a),{forwardRef:f,currentElement:d}=D();return Ge(d),(u,c)=>(v(),g(le,B({...e,...n(p)},{ref:n(f),"trap-focus":n(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:c[0]||(c[0]=l=>{l.defaultPrevented||(l.preventDefault(),n(s).triggerElement.value?.focus())}),onPointerDownOutside:c[1]||(c[1]=l=>{const r=l.detail.originalEvent,i=r.button===0&&r.ctrlKey===!0;(r.button===2||i)&&l.preventDefault()}),onFocusOutside:c[2]||(c[2]=l=>{l.preventDefault()})}),{default:m(()=>[y(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),Xe=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,s=Y(o);D();const p=$(),f=k(!1),d=k(!1);return(u,c)=>(v(),g(le,B({...e,...n(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=l=>{l.defaultPrevented||(f.value||n(p).triggerElement.value?.focus(),l.preventDefault()),f.value=!1,d.value=!1}),onInteractOutside:c[1]||(c[1]=l=>{l.defaultPrevented||(f.value=!0,l.detail.originalEvent.type==="pointerdown"&&(d.value=!0));const r=l.target;n(p).triggerElement.value?.contains(r)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&d.value&&l.preventDefault()})}),{default:m(()=>[y(u.$slots,"default")]),_:3},16))}}),Qe=C({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,a=o,s=$(),p=Y(a),{forwardRef:f}=D();return(d,u)=>(v(),g(n(re),{present:d.forceMount||n(s).open.value},{default:m(()=>[n(s).modal.value?(v(),g(Je,B({key:0,ref:n(f)},{...e,...n(p),...d.$attrs}),{default:m(()=>[y(d.$slots,"default")]),_:3},16)):(v(),g(Xe,B({key:1,ref:n(f)},{...e,...n(p),...d.$attrs}),{default:m(()=>[y(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ee=C({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(t){const o=t;D();const e=$();return(a,s)=>(v(),g(n(M),B(o,{id:n(e).descriptionId}),{default:m(()=>[y(a.$slots,"default")]),_:3},16,["id"]))}}),Ze=we(()=>{const t=k(new Map),o=k(),e=K(()=>{for(const f of t.value.values())if(f)return!0;return!1}),a=Ce({scrollBody:k(!0)});let s=null;const p=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=o.value??"",J&&s?.(),o.value=void 0};return ne(e,(f,d)=>{if(!oe)return;if(!f){d&&p();return}o.value===void 0&&(o.value=document.body.style.overflow);const u=window.innerWidth-document.documentElement.clientWidth,c={padding:u,margin:0},l=a.scrollBody?.value?typeof a.scrollBody.value=="object"?Be({padding:a.scrollBody.value.padding===!0?u:a.scrollBody.value.padding,margin:a.scrollBody.value.margin===!0?u:a.scrollBody.value.margin},c):c:{padding:0,margin:0};u>0&&(document.body.style.paddingRight=typeof l.padding=="number"?`${l.padding}px`:String(l.padding),document.body.style.marginRight=typeof l.margin=="number"?`${l.margin}px`:String(l.margin),document.documentElement.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),J&&(s=De(document,"touchmove",r=>tt(r),{passive:!1})),se(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function et(t){const o=Math.random().toString(36).substring(2,7),e=Ze();e.value.set(o,t??!1);const a=K({get:()=>e.value.get(o)??!1,set:s=>e.value.set(o,s)});return Oe(()=>{e.value.delete(o)}),a}function ue(t){const o=window.getComputedStyle(t);if(o.overflowX==="scroll"||o.overflowY==="scroll"||o.overflowX==="auto"&&t.clientWidth<t.scrollWidth||o.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const e=t.parentNode;return!(e instanceof Element)||e.tagName==="BODY"?!1:ue(e)}}function tt(t){const o=t||window.event,e=o.target;return e instanceof Element&&ue(e)?!1:o.touches.length>1?!0:(o.preventDefault&&o.cancelable&&o.preventDefault(),!1)}const ot=C({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(t){const o=$();return et(!0),D(),(e,a)=>(v(),g(n(M),{as:e.as,"as-child":e.asChild,"data-state":n(o).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:m(()=>[y(e.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),st=C({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const o=$(),{forwardRef:e}=D();return(a,s)=>n(o)?.modal.value?(v(),g(n(re),{key:0,present:a.forceMount||n(o).open.value},{default:m(()=>[x(ot,B(a.$attrs,{ref:n(e),as:a.as,"as-child":a.asChild}),{default:m(()=>[y(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):O("",!0)}}),te=C({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(t){const o=t,e=$();return D(),(a,s)=>(v(),g(n(M),B(o,{id:n(e).titleId}),{default:m(()=>[y(a.$slots,"default")]),_:3},16,["id"]))}}),at=C({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const o=t,e=$(),{forwardRef:a,currentElement:s}=D();return e.contentId||=H(void 0,"reka-dialog-content"),ae(()=>{e.triggerElement.value=s.value}),(p,f)=>(v(),g(n(M),B(o,{ref:n(a),type:p.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":n(e).open.value||!1,"aria-controls":n(e).open.value?n(e).contentId:void 0,"data-state":n(e).open.value?"open":"closed",onClick:n(e).onOpenToggle}),{default:m(()=>[y(p.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),nt=C({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const o=t;return(e,a)=>(v(),g(n($e),V(j(o)),{default:m(()=>[y(e.$slots,"default")]),_:3},16))}}),rt={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},ct={__name:"NuxtModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(t,{emit:o}){const e=t,a=o,s=ke(),{t:p}=Ae(),f=Fe(),d=_e(Pe(e,"open","defaultOpen","modal"),a),u=Se(X(()=>e.portal)),c=X(()=>e.content),l=K(()=>{const i={closeAutoFocus:b=>b.preventDefault()};return e.dismissible?i:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((E,h)=>(E[h]=w=>{w.preventDefault(),a("close:prevent")},E),i)}),r=K(()=>Q({extend:Q(rt),...f.ui?.modal||{}})({transition:e.transition,fullscreen:e.fullscreen}));return(i,b)=>(v(),g(n(xe),V(j(n(d))),{default:m(({open:E,close:h})=>[s.default?(v(),g(n(at),{key:0,"as-child":"",class:F(e.class)},{default:m(()=>[y(i.$slots,"default",{open:E})]),_:2},1032,["class"])):O("",!0),x(n(nt),V(j(n(u))),{default:m(()=>[t.overlay?(v(),g(n(st),{key:0,class:F(r.value.overlay({class:e.ui?.overlay}))},null,8,["class"])):O("",!0),x(n(Qe),B({class:r.value.content({class:[!s.default&&e.class,e.ui?.content]})},c.value,{onAfterEnter:b[0]||(b[0]=w=>a("after:enter")),onAfterLeave:b[1]||(b[1]=w=>a("after:leave"))},Me(l.value)),{default:m(()=>[s.content&&(t.title||s.title||t.description||s.description)?(v(),g(n(Ie),{key:0},{default:m(()=>[t.title||s.title?(v(),g(n(te),{key:0},{default:m(()=>[y(i.$slots,"title",{},()=>[I(R(t.title),1)])]),_:3})):O("",!0),t.description||s.description?(v(),g(n(ee),{key:1},{default:m(()=>[y(i.$slots,"description",{},()=>[I(R(t.description),1)])]),_:3})):O("",!0)]),_:3})):O("",!0),y(i.$slots,"content",{close:h},()=>[s.header||t.title||s.title||t.description||s.description||e.close||s.close?(v(),U("div",{key:0,class:F(r.value.header({class:e.ui?.header}))},[y(i.$slots,"header",{close:h},()=>[Re("div",{class:F(r.value.wrapper({class:e.ui?.wrapper}))},[t.title||s.title?(v(),g(n(te),{key:0,class:F(r.value.title({class:e.ui?.title}))},{default:m(()=>[y(i.$slots,"title",{},()=>[I(R(t.title),1)])]),_:3},8,["class"])):O("",!0),t.description||s.description?(v(),g(n(ee),{key:1,class:F(r.value.description({class:e.ui?.description}))},{default:m(()=>[y(i.$slots,"description",{},()=>[I(R(t.description),1)])]),_:3},8,["class"])):O("",!0)],2),y(i.$slots,"actions"),e.close||s.close?(v(),g(n(Ke),{key:0,"as-child":""},{default:m(()=>[y(i.$slots,"close",{close:h,ui:r.value},()=>[e.close?(v(),g(Te,B({key:0,icon:t.closeIcon||n(f).ui.icons.close,color:"neutral",variant:"ghost","aria-label":n(p)("modal.close")},typeof e.close=="object"?e.close:{},{class:r.value.close({class:e.ui?.close})}),null,16,["icon","aria-label","class"])):O("",!0)])]),_:2},1024)):O("",!0)])],2)):O("",!0),s.body?(v(),U("div",{key:1,class:F(r.value.body({class:e.ui?.body}))},[y(i.$slots,"body",{close:h})],2)):O("",!0),s.footer?(v(),U("div",{key:2,class:F(r.value.footer({class:e.ui?.footer}))},[y(i.$slots,"footer",{close:h})],2)):O("",!0)])]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}};export{Ve as _,Ge as a,ct as b,ut as f,et as u};
